{% extends 'admin/form/endpoint/settings.html.twig' %}

{% block settings_content %}
    <h3 class="text-2xl font-bold mb-3">{{ 'title.admin.form.endpoint.settings.notifications'|trans }}</h3>

    {% for name, settingsForm in settingsForms %}
        <div class="grid @3xl:grid-cols-5 gap-4 rounded-lg bg-slate-50 p-1 border border-neutral-200">
            <div class="col-span-2 px-4 py-2">
                <h4 class="text-xl font-bold">{{ settingsForm.vars.label ? settingsForm.vars.label|trans : name|title }}</h4>
                {% if settingsForm.vars.help is not null %}
                    <p class="text-neutral-500 text-sm">{{ settingsForm.vars.help|trans }}</p>
                {% endif %}
            </div>

            <div class="col-span-3 p-4 rounded-md border border-neutral-200 bg-white">
                {% set channel = channels[name] %}
                {% if not channel.checkRequirements %}
                    <div class="flex gap-4 items-start p-4 rounded-md bg-yellow-50 text-yellow-600 font-medium">
                        <div class="pt-1">
                            {{ ux_icon('heroicons:exclamation-triangle-20-solid', {'class': 'size-6'}) }}
                        </div>
                        {{ channel.requirementsMessage|trans|nl2br }}
                    </div>
                {% else %}
                    {{ form_start(settingsForm) }}
                        {{ form_widget(settingsForm) }}

                        <button class="btn btn-primary" type="submit">
                            {{ 'action.save'|trans }}
                        </button>
                    {{ form_end(settingsForm) }}
                {% endif %}
            </div>
        </div>
    {% endfor %}
{% endblock %}
